{
    "Changes": [
        {
            "LogName": "Add farm cave visit schedule",
            "Action": "EditData",
            "Target": "Characters/schedules/Demetrius",
            "Entries": {
                "{{DemetriusVisitDay}}": "0 FarmCave {{XPosition}} {{YPosition}} 1/610 FarmCave {{XPosition}} {{YPosition}} 1 demetrius_notes"
            },
        },
        {
            "LogName": "Override rain schedule",
            "Action": "EditData",
            "Target": "Characters/schedules/Demetrius",
            "Entries": {
                "rain": "GOTO {{DemetriusVisitDay}}",
                "rain2": null,
            },
            "When": {
                "Weather:valley": "rain, storm",
                "Query: '{{DayOfWeek}}' LIKE '{{DemetriusVisitDay}}*'": true
            }
        },
        { // Prevent Demetrius from going on vacation
            "Action": "EditData",
            "Target": "Mods/atravita_Ginger_Island_Adjustments_exclusions",
            "TextOperations": [
                {
                    "Operation": "Append",
                    "Target": [
                        "Entries",
                        "Demetrius"
                    ],
                    "Value": "{{DemetriusVisitDay}}",
                    "Delimiter": ","
                }
            ],
            "When": {
                "HasMod": "atravita.GingerIslandMainlandAdjustments",
            }
        },
        { // Prevent Demetrius from going on vacation
            // For CustomNPCExclusions
            "Action": "EditData",
            "Target": "Data/CustomNPCExclusions",
            "TextOperations": [
                {
                    "Operation": "Append",
                    "Target": [
                        "Entries",
                        "Demetrius"
                    ],
                    "Value": "IslandVisit",
                    "Delimiter": ","
                }
            ],
            "When": {
                "HasMod": "Esca.CustomNPCExclusions",
                "HasMod|Contains=atravita.GingerIslandMainlandAdjustments": "false",
                "Query: '{{Day}}' LIKE '{{DemetriusVisitDay}}' OR '{{DayOfWeek}}' LIKE '{{DemetriusVisitDay}}*'": true,
            }
        },
    ]
}